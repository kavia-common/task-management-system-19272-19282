{"is_source_file": true, "format": "TypeScript", "description": "This file defines a composable function 'useApi' for making API requests with automatic base URL and authorization header management, including centralized error handling. It wraps the $fetch function, integrating authentication logic and error processing for a frontend project.", "external_files": ["#app", "./useAuth", "~/types"], "external_methods": ["useRuntimeConfig", "useAuth", "$fetch.create"], "published": ["useApi"], "classes": [], "methods": [{"name": "export function useApi() { useApi", "description": "Main function that returns an object with API methods and error handling logic, encapsulating fetch configuration with authentication and headers.", "scope": "", "scopeKind": ""}, {"name": "handle", "description": "Handles promise rejections, wrapping errors into standardized ApiError objects."}], "calls": ["useRuntimeConfig()", "useAuth()", "$fetch.create()", "auth.token.value", "auth.logout(false)"], "search-terms": ["TypeScript fetch wrapper", "Nuxt useRuntimeConfig", "API auth header", "centralized error handling", "composable"], "state": 2, "file_id": 9, "knowledge_revision": 19, "git_revision": "", "ctags": [{"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^  const api = $fetch.create({$/", "language": "TypeScript", "kind": "constant", "scope": "useApi", "scopeKind": "function"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^  const auth = useAuth();$/", "language": "TypeScript", "kind": "constant", "scope": "useApi", "scopeKind": "function"}, {"_type": "tag", "name": "baseURL", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^  const baseURL = config.public.API_BASE as string;$/", "language": "TypeScript", "kind": "constant", "scope": "useApi", "scopeKind": "function"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^  const config = useRuntimeConfig();$/", "language": "TypeScript", "kind": "constant", "scope": "useApi", "scopeKind": "function"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^      const err: ApiError = e?.data || { message: e?.message || 'Request failed' };$/", "language": "TypeScript", "kind": "constant", "scope": "useApi", "scopeKind": "function"}, {"_type": "tag", "name": "useApi", "path": "/home/kavia/workspace/code-generation/task-management-system-19272-19282/todo_frontend/composables/useApi.ts", "pattern": "/^export function useApi() {$/", "language": "TypeScript", "kind": "function"}], "hash": "b210bd86140c7c7d8f6f8878d6a61c9b", "format-version": 4, "code-base-name": "todo_frontend", "filename": "todo_frontend/composables/useApi.ts", "revision_history": [{"19": ""}]}